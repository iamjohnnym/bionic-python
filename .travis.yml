sudo: required
services:
- docker
env:
  matrix:
  - TEST_SUITE=2.7
  - TEST_SUITE=3.6
  - TEST_SUITE=3.7
  global:
  - secure: OsaTRAMJWmnmreB92HnmtD1wPuIqvMcCT0lEvvMxpIKcxtw4SZy4hHgpy1dc8EAqpyeCoKBP+pE1+BL7bLC6qk6+4KnyFtCh1Pbjf/UUkazrrhNwLgrmcQyEQaIkEOfRWsETqFFZK5XqvmZ1VpmxqDA2RlpTUFmfl2K+HtK8+0twdnIdqWbW22b0tJoMLKQ5i9Vx+ohzQpG5Uaqp2mq8KZNT916eLLXvrwTXVugV8KIS8XUnioiKryP/Ke7krGjktitcHa8kAurS9v57EVS7dJyh8sZFyycGRJi4197eMJpYqux8gFhZ7yJsX6wfkU9iHPcnr3tOvf3rhzI/1RIbgfiWM92CrOvD2GA4ID5ZWpKNuazBgiZQUR2b6vWlG52tsyJwgjEQUn0JvAFcAXmw+HxhEcGCJ0o4b4xrMm+JXDQKkeiH591i83RNTFAeYb/cXGvUwdNhGX1yJhFCWhbefge33ZghAvqs/n03gRKvdWYEkOVyIv4cPUWAt/Tki8CJ8Q8g6WH28KUnN7AoJtrugu0nED73n6KK54atl6pj9Qu3mxwNnwODK90fbfgCOUkrFyhPBVJvQeTHo+3PX8MSr0HsobiIg0WdDt+ipJyWCYDSBMINrHL+5eTXNto0co3mOzNhfXb+/KVOdFYkb9c9jZHGQX6qNdMHIcUwznn+bg8=
  - secure: qBBj4PrmD07+HA/Kg4HYkSYpsLk/lm2cGFfch3qa6yWhoR2q0dLJI1IvzYDYvhPtWLO9Bj0S/l4zFQZVdBBZJHAOPxdezgZ4fUJmNmAvb96Ioiuul2JCqbQUfipmm6xcXD8Q9AGBAs+omkpzCnrLNZgtr6XuZkIciMDcxFTkAX5wgS/OiDpBqyh8rp/mkvCM8iOAZ5fP0jEQbYwBOcnuIOuErxT8G/Ei4UkKz8W/lS469TEU93r4em4NCkgBF/Mord0F5Bm2k6Xeu5UjPcLpgHjMAuX5PY/LAZ+NRUTWDGSpsQ34p8bHhrsRWYz7jYKe7+Em/JhzcIjW3wWJfhK5VFLZLudi/lP7IoGmgPF4bXOYoDnulMvy7xG73Padz/H89X3W01gkmznbx40vudK5ZCsLzBXSZU8f5lYDkNWrH/EeRQJg0CzixL3DxVIBJ6ZaQxQI8pw21qXR1xYStog+4BEBWxEMCRLuCDo4KITIJdqv21oZTz81DxNJdayQV0e0lXnp6DxtMpMUcZZukSliEGAGGk2s9y4/bx7btqD75aGo7i21dmXknqEya/+pda70GylO687buYzsAvBIcerpcw2OPnfvJndqPTqWmAjZFGjmtZgFh/3bbatIg79xxA6WEPUksM+ohmpAs1ZTipYvlHwsMFxvfmhJzk+LABW0v5k=
script:
- docker build --build-arg PYTHON_VERSION=${TEST_SUITE} -t iamjohnnym/bionic-python:${TEST_SUITE} .
after_success:
- echo "${DOCKER_PASSWORD}" | docker login --username="${DOCKER_USER}" --password-stdin
- if [[ ${TRAVIS_PULL_REQUEST} == "false" ]] && [[ ${TRAVIS_BRANCH} == "master" ]];
  then docker push iamjohnnym/bionic-python; fi
